{
  "consumer": {
    "name": "jtl-reporter-ui"
  },
  "provider": {
    "name": "jtl-reporter-be"
  },
  "interactions": [
    {
      "description": "a request for projects",
      "providerState": "i have list of existing projects",
      "request": {
        "method": "GET",
        "path": "/projects"
      },
      "response": {
        "status": 200,
        "headers": {
        },
        "body": [
          {
            "id": "0d74df6b-b728-4f45-9e2c-8537cd1c1b85",
            "itemCount": 10,
            "latestRun": "2019-09-22T18:20:23.265Z",
            "projectName": "test-project",
            "scenarioCount": 6
          }
        ],
        "matchingRules": {
          "$.body": {
            "min": 1
          },
          "$.body[*].*": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "a request for creating projects",
      "request": {
        "method": "POST",
        "path": "/projects",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "projectName": "project-name"
        },
        "matchingRules": {
          "$.body.projectName": {
            "match": "type"
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
        }
      }
    },
    {
      "description": "a request for deleting project",
      "providerState": "i have existing project",
      "request": {
        "method": "DELETE",
        "path": "/projects/test-project"
      },
      "response": {
        "status": 204,
        "headers": {
        }
      }
    },
    {
      "description": "a request for updating project",
      "providerState": "i have existing project",
      "request": {
        "method": "PUT",
        "path": "/projects/test-project",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "projectName": "project-name"
        },
        "matchingRules": {
          "$.body.projectName": {
            "match": "type"
          }
        }
      },
      "response": {
        "status": 204,
        "headers": {
        }
      }
    },
    {
      "description": "a request for latest items",
      "providerState": "i have a list of latest items",
      "request": {
        "method": "GET",
        "path": "/projects/latest-items"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": [
          {
            "environment": "test",
            "id": "b13373a3-4d27-4752-977a-2f42a2606595",
            "name": "test-scenario",
            "project_name": "test-project",
            "upload_time": "2019-09-22T18:20:23.265Z",
            "status": "0"
          }
        ],
        "matchingRules": {
          "$.body": {
            "min": 1
          },
          "$.body[*].*": {
            "match": "type"
          },
          "$.body[*].upload_time": {
            "match": "regex",
            "regex": "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z"
          }
        }
      }
    },
    {
      "description": "a request for overall-stats",
      "providerState": "i have existing overall stats",
      "request": {
        "method": "GET",
        "path": "/projects/overall-stats"
      },
      "response": {
        "status": 200,
        "headers": {
        },
        "body": {
          "avgDuration": 22,
          "avgVu": 52,
          "totalDuration": 9109,
          "totalRunCount": 416
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "a request for updating scenario",
      "providerState": "i have existing project with at least one scenarios",
      "request": {
        "method": "PUT",
        "path": "/projects/test-project/scenarios/test-scenario",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "scenarioName": "new-scenario-name"
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          }
        }
      },
      "response": {
        "status": 204,
        "headers": {
        }
      }
    },
    {
      "description": "a request for deleting scenario",
      "providerState": "i have existing project with at least one scenarios",
      "request": {
        "method": "DELETE",
        "path": "/projects/test-project/scenarios/test-scenario"
      },
      "response": {
        "status": 204,
        "headers": {
        }
      }
    },
    {
      "description": "a request for creating new scenario",
      "providerState": "i have existing project",
      "request": {
        "method": "POST",
        "path": "/projects/test-project/scenarios",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "scenarioName": "new-test-scenario"
        },
        "matchingRules": {
          "$.body.scenarioName": {
            "match": "type"
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
        }
      }
    },
    {
      "description": "a request for scenarios",
      "providerState": "i have existing project with at least one scenarios",
      "request": {
        "method": "GET",
        "path": "/projects/test-project/scenarios"
      },
      "response": {
        "status": 200,
        "headers": {
        },
        "body": [
          {
            "name": "test-scenario",
            "id": "e3d1cde2-6079-4b01-8592-4bde15ae6ed7",
            "data": [
              {
                "avgLatency": "372",
                "avgResponseTime": 373,
                "duration": 11.99,
                "endDate": "2019-07-24T13:12:20.807Z",
                "errorRate": 0.48,
                "maxVu": 10,
                "percentil": 658,
                "startDate": "2019-07-24T12:00:21.156Z",
                "throughput": 24.81
              }
            ]
          }
        ],
        "matchingRules": {
          "$.body": {
            "min": 1
          },
          "$.body[*].*": {
            "match": "type"
          },
          "$.body[*].data": {
            "min": 1
          },
          "$.body[*].data[*].*": {
            "match": "type"
          },
          "$.body[*].data[*].endDate": {
            "match": "regex",
            "regex": "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z"
          },
          "$.body[*].data[*].startDate": {
            "match": "regex",
            "regex": "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z"
          }
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  }
}